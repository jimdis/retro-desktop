!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e){e.exports={1:"Alone in the Dark",2:"Space Quest IV",3:"Sam & Max: Hit the Road",4:"Transport Tycoon",5:"Full Throttle",6:"Duke Nukem 3D",7:"Day of the Tentacle",8:"Sim City 2000",9:"Civilization",10:"Syndicate",11:"Command & Conquer",12:"WarCraft II",13:"Lemmings",14:"The Secret of Monkey Island",15:"Simon the Sorcerer II",16:"Quake",17:"Doom II",18:"Pizza Tycoon"}},function(e,t,n){e.exports=n.p+"dd1fdfda5d8484043f456d63b80a966f.txt"},function(e,t,n){},function(e,t){const n=document.createElement("template");n.innerHTML='\n<style>\n  \n:host {\n  display: block;\n  margin: 0;\n  padding: 0;\n  font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;\n  font-size: 15px;\n  text-align: center;\n}\n\n#card {\n  background-color: white;  \n  width: 40px;\n  height: 70px;\n  border: 1px solid grey;\n}\n\ndiv.suit {\n  margin: 2px;\n  width: 16px;\n  line-height: 16px;\n}\n\n#rank {\n  clear: both;\n  margin: 0 5px;\n  font-size: 25px;\n  width: 28px;\n  line-height: 28px;\n  \n}\n\ndiv.left {\n  float: left\n}\n\ndiv.right {\n  float: right\n}\n\ndiv.red {\n  color: red;\n}\n\ndiv.black {\n  color: black\n}\n\n#rank.black {\n  border: 1px solid black;\n}\n\n#rank.red {\n  border: 1px solid red;\n}\n</style>\n\n<div id="card">\n  <div class="suit top left">♥</div>\n  <div class="suit top right">♥</div>\n  <div id="rank">A</div>\n  <div class="suit bottom left">♥</div>\n  <div class="suit bottom right">♥</div>\n</div>\n',window.customElements.define("playing-card",class extends window.HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(n.content.cloneNode(!0))}static get observedAttributes(){return["suit","rank"]}attributeChangedCallback(e,t,n){this._updateStyle()}connectedCallback(){this._updateStyle()}_updateStyle(){let e=this.getAttribute("suit"),t=this.getAttribute("rank"),n=["♠","♣"].includes(e)?"black":"red";this.shadowRoot.querySelectorAll("div.suit").forEach(t=>{t.textContent=e,t.classList.add(n)}),this.shadowRoot.querySelector("#rank").textContent=t,this.shadowRoot.querySelector("#rank").classList.add(n)}})},function(e,t,n){"use strict";n.r(t);n(2);const i=document.createElement("template");i.innerHTML='\n<ul>\n      <li class="menu-heading file-menu"><a class="menu-heading file-menu" href="#" tabindex="-1">File</a>\n        <ul class="sub-menu">\n        <li class="menu-item" data-action="closeWindow"><a href="#" class="menu-item" data-action="closeWindow" tabindex="-1">Quit</a></li>\n        </ul>\n      </li>\n      <li class="menu-heading settings-menu"><a class="menu-heading settings-menu" href="#" tabindex="-1">Settings</a>\n        <ul class="sub-menu">\n        </ul>\n      </li>\n    </ul>';const s=document.createElement("template");s.innerHTML='\n  <li class="menu-item"><a href="#" class="menu-item" tabindex="-1"></a></li>\n  <ul class="sub-menu-items"></ul>\n';class a{constructor(e){this.settings=e,this.activeMenu={focus:null,hasParent:null,hasChild:null,isSubMenu:null,isNotFirst:null,isNotLast:null},this.keyboardMenu=!1,this.container=i.content.cloneNode(!0).querySelector("ul"),this._renderMenu();let t=this._click.bind(this);this.container.addEventListener("click",t)}_click(e){if(e.target.classList.contains("menu-heading")&&(this.container.classList.toggle("menu-active"),document.activeElement.blur()),e.target.classList.contains("menu-item")){if(e.target.getAttribute("data-parent")){let t=e.target.getAttribute("data-parent"),n=e.target.getAttribute("data-setting");this.settings[t].run(this.settings[t].setting[n])}else if(e.target.getAttribute("data-setting")){let t=e.target.getAttribute("data-setting");this.settings[t].setting()}this.container.classList.toggle("menu-active")}}closeAll(){this.container.querySelectorAll("ul.focused-menu").forEach(e=>e.classList.remove("focused-menu"))}useKeys(e){const t=this.container,n=e=>e.classList.add("focused-menu"),i=e=>e.classList.remove("focused-menu"),s=this.closeAll.bind(this);let a=this.activeMenu.focus;if(t.addEventListener("mouseover",()=>{s(),document.activeElement.blur(),this.keyboardMenu=!1},{once:!0}),"KeyF"===e.code&&(s(),n((a=t.querySelector("a.file-menu")).nextElementSibling)),"KeyS"===e.code&&(s(),n((a=t.querySelector("a.settings-menu")).nextElementSibling)),"ArrowDown"===e.code&&(a=this.activeMenu.isSubMenu?(a=this.activeMenu.isNotLast||a.closest("ul")).querySelector("a"):this.activeMenu.hasChild.querySelector("a")),"ArrowUp"===e.code&&this.activeMenu.isSubMenu&&(a=(a=this.activeMenu.isNotFirst||a.closest("ul").lastElementChild).querySelector("a")),"ArrowRight"===e.code)if(this.activeMenu.hasChild&&this.activeMenu.isSubMenu)n(this.activeMenu.hasChild),a=this.activeMenu.hasChild.querySelector("a");else if(this.activeMenu.isSubMenu){let e=a.closest("li.menu-heading");s(),n((a=e.nextElementSibling||e.closest("ul")).querySelector("ul")),a=a.querySelector("a")}else i(a.nextElementSibling),n((a=(a=this.activeMenu.isNotLast||this.activeMenu.isNotFirst).querySelector("a")).nextElementSibling);if("ArrowLeft"===e.code)if(this.activeMenu.hasParent&&this.activeMenu.isSubMenu)i(this.activeMenu.hasParent),a=this.activeMenu.hasParent.parentElement.querySelector("a");else if(this.activeMenu.isSubMenu){let e=a.closest("li.menu-heading");s(),n((a=e.previousElementSibling||e.closest("ul").lastElementChild).querySelector("ul")),a=a.querySelector("a")}else s(),n((a=this.activeMenu.isNotFirst||this.activeMenu.isNotLast).querySelector("ul")),a=a.querySelector("a");"Enter"===e.code&&(this.activeMenu.hasChild&&this.activeMenu.isSubMenu?(n(this.activeMenu.hasChild),a=this.activeMenu.hasChild.querySelector("a")):(t.classList.remove("menu-active"),s(),this.keyboardMenu=!1)),"Escape"===e.code&&(t.classList.remove("menu-active"),s(),this.keyboardMenu=!1),a.focus(),this.activeMenu.focus=a,this.activeMenu.hasChild=a.nextElementSibling,this.activeMenu.hasParent=a.closest("ul.sub-menu-items"),this.activeMenu.isSubMenu=a.classList.contains("menu-item"),this.activeMenu.isNotFirst=a.parentElement.previousElementSibling,this.activeMenu.isNotLast=a.parentElement.nextElementSibling}_renderMenu(){Object.keys(this.settings).forEach(e=>{let t=s.content.querySelector("li.menu-item").cloneNode(!0);if(t.querySelector("a").textContent=this.settings[e].name,"object"!=typeof this.settings[e].setting)t.setAttribute("data-setting",e),t.querySelector("a").setAttribute("data-setting",e);else{let n=s.content.querySelector("ul").cloneNode(!0),i=this.settings[e].setting;t.classList.add("menu-arrow"),Object.keys(i).forEach(a=>{let o=s.content.querySelector("li.menu-item").cloneNode(!0);o.querySelector("a").textContent=i[a].name,o.setAttribute("data-parent",e),o.setAttribute("data-setting",a),o.querySelector("a").setAttribute("data-parent",e),o.querySelector("a").setAttribute("data-setting",a),n.appendChild(o),t.appendChild(n)})}this.container.querySelector(".settings-menu ul").appendChild(t)})}}const o=document.createElement("template");o.innerHTML='\n<div class="window">\n  <div class="navbar">\n    <a href="#" class="navbar-icon menu-heading"><img class="navbar-icon menu-heading"></a>\n    <ul class="navbar-menu">\n    <li data-action="restoreWindow"><a href="#" class="menu-item" data-action="restoreWindow">Restore Window</a></li>  \n    <li data-action="closeWindow"><a href="#" class="menu-item" data-action="closeWindow">Close Window</a></li>\n      </ul>\n    <div class="navbar-buttons">\n      <a href="#" class="navbar-button minimize"><img class="navbar-button minimize" src="image/button-min.png"></a>\n      <a href="#" class="navbar-button maximize"><img class="navbar-button maximize" src="image/button-max.png"></a>\n    </div>\n  </div>\n  <div class ="menu">\n    \n  </div>\n  <div class="content">\n  </div>\n</div>\n';class r{constructor(e,t,n,i){this.container=o.content.cloneNode(!0).querySelector("div.window"),this.container.style.transform=`translate3d(${n}px, ${i}px, 0px)`,this.content=this.container.querySelector("div.content"),this.container.querySelector("div.navbar img").src=t,this.content.appendChild(document.createElement(e));let s=document.createTextNode(this.container.querySelector(e).name);this.container.querySelector(".navbar").appendChild(s),this.settings=this.container.querySelector(e).settings,this.menu=new a(this.settings||{}),this.container.querySelector("div.menu").appendChild(this.menu.container);let r=this._click.bind(this);this.container.addEventListener("click",r),this.container.querySelector("div.navbar").addEventListener("dblclick",e=>{this.content.style.height?this.restoreWindow():this.maximize()})}_click(e){if(e.target!==this.content.firstElementChild&&e.preventDefault(),e.target.classList.contains("navbar-icon"))this.container.querySelector(".navbar-menu").classList.toggle("display-menu");else if(e.target.getAttribute("data-action")){let t=e.target.getAttribute("data-action");this.container.querySelector(".navbar-menu").classList.toggle("display-menu"),this[t]()}else e.target.classList.contains("maximize")?this.maximize():e.target.classList.contains("minimize")&&this.minimize()}closeWindow(){this.container.dispatchEvent(new window.Event("close"))}restoreWindow(){this.container.style.transform="translate3d(10px, 10px, 0px)",this.container.style.width=null,this.content.style.width=null,this.content.style.height=null}maximize(){this.container.style.transform="translate3d(5px, 5px, 0px)";let e=window.innerWidth,t=window.innerHeight;this.container.style.width=null,this.content.style.width=e-10+"px",this.content.style.height=t-80+"px"}minimize(){let e=window.innerWidth,t=window.innerHeight,n=Math.floor(Math.random()*(e-100));this.container.style.transform=`translate3d(${n}px, ${t-60}px, 0px)`,this.container.style.width="200px",this.content.style.height="0px"}}const l=document.createElement("template");l.innerHTML='\n<div class="icon">\n<a href="#" class="icon"><img class="icon"><span></span></a>\n</div>\n';class c{constructor(e,t,n,i,s){this.container=l.content.cloneNode(!0).querySelector("div"),this.container.style.transform=`translate3d(${i}px, ${s}px, 0px)`;let a=document.createTextNode(n);this.container.querySelector("img").src=e,this.container.querySelector("span").appendChild(a),this.container.addEventListener("dblclick",n=>{let i=new window.CustomEvent("openapp",{detail:{content:t,icon:e}});window.dispatchEvent(i)}),this.container.addEventListener("click",e=>e.preventDefault())}}const d=document.createElement("template");d.innerHTML='\n<div class="desktop">\n<div id="icons">\n\n</div>\n</div>\n';class h{constructor(e,t){this.element=e,this.timeLimit=t,this.timer=0,this.startTime=0,this.timerID=null,this.elapsed=0,this.timeOut=new window.Event("timeout")}start(){this.timer=0,this.startTime=(new Date).getTime(),this.elapsed=this.timeLimit,this.element.classList.remove("fiveseconds"),this.timerCycle()}timerCycle(){this.timer+=100,this.elapsed=Math.floor(10*(this.timeLimit+.1)-this.timer/100)/10,Math.round(this.elapsed)===this.elapsed&&(this.elapsed+=".0");let e=(new Date).getTime()-this.startTime-this.timer;this.element.textContent=this.elapsed,"5.0"===this.elapsed&&this.element.classList.add("fiveseconds"),"0.0"===this.elapsed?(this.element.dispatchEvent(this.timeOut),this.stop()):this.timerID=setTimeout(this.timerCycle.bind(this),100-e)}stop(){clearTimeout(this.timerID),this.element.classList.remove("fiveseconds")}}function u(e){for(let t=e.length-1;t>=0;t--){let n=Math.floor(Math.random()*(t+1)),i=e[n];e[n]=e[t],e[t]=i}return e}var m=n(0);const p=document.createElement("template");p.innerHTML='\n<style>\n:host {\n    display: block;\n    margin: 0;\n    padding: 0;\n    position: relative;\n    width: 100%;\n    min-width: 400px;\n    height: 100%;\n    overflow: hidden;\n}\n\nbutton:focus {\n    outline: none;\n}\n\nbutton:focus img,\nbutton:hover img,\nimg.faceUp {\n    box-shadow:\n        1px 1px silver,\n        2px 2px silver,\n        3px 3px silver;\n    -webkit-transform: translateX(-3px);\n    transform: translateX(-3px);\n    transition: all 0.3s ease;\n}\n\n#board {\n    width: 100%;\n    margin-top: 10px;\n    margin-bottom: 60px;\n    padding: 0;\n    overflow: scroll;\n}\n\n#output {\n    position: absolute;\n    left: 0px;\n    bottom: 0px;\n    width: 100%;\n    height: 55px;\n    margin: 10px 0 0;\n    border-top: 1px solid black;\n\n    background-color: yellow;\n}\n\nbutton {\n    border: none;\n    background-color: transparent;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n    display: block;\n    margin: auto;\n    cursor: inherit;\n}\n\nimg {\n    width: 55px;\n    border: 1px solid black;\n    border-radius: 10px;\n    vertical-align: middle;\n}\n\nimg.faceDown {\n    background-color: silver;\n}\n\np.console {\n    margin: 0;\n}\n\n.card {\n    display: inline-block;\n    width: 65px;\n    height: 75px;\n    text-align: center;\n    vertical-align: middle;\n}\n\n.card.firstColumn {\n    float: left;\n}\n\n#left-column {\n    margin-top: 5px;\n    width: 70px;\n    float: left;\n}\n\n#left-column>span,\n#right-column>span {\n    display: block\n}\n\n#timer,\n#counter {\n    margin-left: 5px;\n}\n\n#timer::before {\n    content: \'⏱\'\n}\n\n#counter::before {\n    content: \'♾\'\n}\n\n.fiveseconds {\n    color: red;\n    animation: blink 1s linear infinite;\n}\n\n#right-column {\n    margin-top: 5px;\n    width: 330px;\n    float: right;\n    text-align: right;\n}\n\n#title,\n#status {\n    margin-right: 5px;\n\n}\n\n@keyframes blink {\n    0% {\n        opacity: 0;\n    }\n\n    50% {\n        opacity: .5;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n}\n</style>\n<div id="board">\n</div>\n<div id="output">\n  <div id="left-column">\n    <span id="timer"></span>\n    <span id="counter"></span>\n  </div>\n  <div id="right-column">\n    <span id="title"></span>\n    <span id="status"></span>\n  </div>\n</div> \n';const g=document.createElement("template");g.innerHTML='\n<div class="row"></div>\n<div class="card">\n<button tabindex="1">\n<img class="faceDown" src="./image/0.png">\n</button>\n</div>\n';function v(e,t){this.suit=e,this.rank=t,Object.freeze(this)}function w(e,t=15){this.name=e,this.threshold=t,this.hand=[],this.score=0}function b(e){let t=[],n=0;e.forEach(e=>t.push(function(e){return"number"==typeof e?e:"J"===e?11:"Q"===e?12:"K"===e?13:0}(e.rank))),n=t.reduce((e,t)=>e+t);let i=e.filter(e=>"A"===e.rank);return 0===i.length?n:function(e,t){for(let n=0;n<e.length;n++)t+14+e.length-n<=21?t+=14:t+=1;return t}(i,n)}function y(e,t){let n;return e.score>21?n="Player is Bust, Dealer Wins!":21===e.score?n="Player Wins with 21!":5===e.hand.length?n="Player Wins with 5 cards < 21!":e.score>t.score?n=`Player Wins with ${e.score} vs dealer's ${t.score}.`:t.score>21?n="Dealer is Bust, Player Wins!":21===t.score?n="Dealer Wins with 21!":5===t.hand.length?n="Dealer Wins with 5 cards < 21!":t.score>=e.score&&(n=`Dealer Wins with ${t.score} vs player's ${e.score}`),n}window.customElements.define("pc-games-memory",class extends window.HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(p.content.cloneNode(!0)),this.board=this.shadowRoot.querySelector("#board"),this.imageCount=18,this.rows=6,this.columns=6,this.timer=new h(this.shadowRoot.querySelector("#timer"),10),this.name="PC Games Memory",this.cardTitles=m,this.settings={boardSize:{name:"Board size",setting:{twoByFour:{name:"2x4",rows:2,cols:4},threeByFour:{name:"3x4",rows:3,cols:4},fourByFour:{name:"4x4",rows:4,cols:4},fourByFive:{name:"4x5",rows:4,cols:5},fourBySix:{name:"4x6",rows:4,cols:6},fiveBySix:{name:"5x6",rows:5,cols:6},sixBySix:{name:"6x6",rows:6,cols:6}},run:e=>{this.setAttribute("rows",e.rows),this.setAttribute("columns",e.cols)}},timer:{name:"Time limit",setting:{fiveSeconds:{name:"5 seconds",value:5},tenSeconds:{name:"10 seconds",value:10},fifteenSeconds:{name:"15 seconds",value:15},twentySeconds:{name:"20 seconds",value:20}},run:e=>{this.setAttribute("timer",e.value)}},restart:{name:"Restart Game",setting:this.newRound.bind(this)}}}static get observedAttributes(){return["rows","columns","images","timer"]}attributeChangedCallback(e,t,n){"rows"===e&&(this.rows=n,this.newRound()),"columns"===e&&(this.columns=n,this.newRound()),"images"===e&&(this.imageCount=parseInt(n)),"timer"===e&&(this.timer.timeLimit=parseInt(n))}connectedCallback(){if(this.imageCount<=3)return console.error("You need at least four images for the game to work"),void(this.board.textContent="You need at least four images for the game to work");2*this.imageCount<this.rows*this.columns&&(console.error("Sorry, you need more images for this board, size. Defaulting to maximum board size"),this._optimizeSize(this.imageCount));let e=function(e,t=e){let n=[],i=e<t?t:e;for(let e=1;e<=i;e++)n.push(e);return n=u(n).slice(t-e),n=u(n.concat(n))}(this.rows*this.columns/2,this.imageCount);this._populateBoard(this.board,this.rows,this.columns,e),this._clickNum=0,this._roundNum=1,this._activeCards=[],this._match=!1,this._newRound=!1,this._clickAnywhere=!1,this._boundClicked=this._clicked.bind(this),this.board.addEventListener("click",this._boundClicked),this._renderOutput()}disconnectedCallback(){this.timer.stop(),this.board.removeEventListener("click",this._boundClicked),this.board.innerHTML=null}_clicked(e){if(0!==e.clientX&&document.activeElement.blur(),this._newRound)return void this.newRound();let t;if("IMG"===e.target.tagName)t=e.target;else if("BUTTON"===e.target.tagName)t=e.target.firstElementChild;else if(!this._clickAnywhere)return;this._clickNum++,this._clickAnywhere=!1,this._updateGame(t)}async _updateGame(e){let t,n=e=>e.getAttribute("data-number");if(3===this._clickNum){let e=this.board.querySelectorAll("img.faceUp");this._roundNum++,this._match?e.forEach(e=>e.parentElement.remove()):e.forEach(e=>{e.src=this._changeImage(e)}),this._clickNum=0}if(2===this._clickNum){if(e.src=this._changeImage(e),t=await this.cardTitles[n(e)],e===this._previousCard)return e.src=this._changeImage(e),void this._clickNum--;this.timer.stop(),this._match=n(e)===n(this._previousCard),this._match&&(this._newRound=2===this.board.querySelectorAll("img").length),this._clickAnywhere=!0}1===this._clickNum&&(e.src=this._changeImage(e),t=await this.cardTitles[n(e)],this.timer.start(),this._previousCard=e,this.shadowRoot.querySelector("#timer").addEventListener("timeout",()=>{this._newRound=!0,this._renderOutput()},{once:!0})),this._renderOutput(t)}_changeImage(e){let t=e.getAttribute("data-number");e.classList.toggle("faceDown"),e.classList.toggle("faceUp");let n=e.src.slice(0,e.src.lastIndexOf("/")+1);return"faceUp"===e.className?n+t.toString()+e.src.slice(-4):n+"0"+e.src.slice(-4)}_optimizeSize(e){let t,n=this.settings.boardSize.setting;Object.keys(n).forEach(i=>{let s=n[i].rows,a=n[i].cols,o=s*a/2;e>=o&&(t={images:o,rows:s,columns:a})}),this.images=t.images,this.rows=t.rows,this.columns=t.columns}newRound(){this.disconnectedCallback(),this.connectedCallback()}_renderOutput(e=":)"){let t=this.shadowRoot.querySelector("#title"),n=this.shadowRoot.querySelector("#status"),i=this.shadowRoot.querySelector("#counter"),s=this.shadowRoot.querySelector("#timer");1===this._clickNum&&(this._newRound?(s.textContent="☠",n.textContent="Time is out! Click anywhere to play again"):(t.textContent=e,n.textContent="Now try to find a match!")),2===this._clickNum&&(t.textContent=e,n.textContent=this._match?"Nice!":"Try again!",n.textContent+=" Click anywhere to ",n.textContent+=this._newRound?"play a new game.":"continue."),0===this._clickNum&&(t.textContent="",s.textContent="",n.textContent="Pick a card!",i.textContent=this._roundNum)}_populateBoard(e,t,n,i){let s=0;for(let a=0;a<t;a++){let t=g.content.cloneNode(!0).querySelector(".row");for(let a=0;a<n;a++){let n=g.content.cloneNode(!0).querySelector(".card");n.querySelector("img").setAttribute("data-number",i[s]),s++,t.appendChild(n),e.appendChild(t)}}}}),w.prototype.renderHand=function(){let e=[];return this.hand.forEach(t=>e.push(t.suit+t.rank)),e.join(", ")};class f{constructor(e){this.player=new w("Player"),this.dealer=new w("Dealer",e),this.deck=function(){let e=[],t=["♥","♦","♣","♠"],n=[2,3,4,5,6,7,8,9,10,"J","Q","K","A"];for(let i=0;i<t.length;i++)for(let s=0;s<n.length;s++)e.push(new v(t[i],n[s]));return e=u(e)}(),this.result="",this.newRound=!1}dealerPlay(){let e=this.dealer;do{this.drawCard(e),e.score=b(e.hand)}while(e.score<e.threshold);this.result=y(this.player,this.dealer),this.newRound=!0}drawCard(e){let t=e,n=this.deck.pop();t.hand.push(n),t.score=b(t.hand),this.result=y(this.player,this.dealer),this.newRound=5===this.player.hand.length}}n(3);var x=n(1),k=n.n(x);const S=document.createElement("template");S.innerHTML='\n<style>\n:host {\n    display: block;\n    font-size: 15px;\n    position: relative;\n    width: 100%;\n    min-width: 400px;\n    height: 100%;\n    overflow: hidden;\n    margin: 0 auto;\n}\n\n#help {\n    position: absolute;\n    background-color: white;\n    opacity: 0.9;\n    width: 300px;\n    top: 10px;\n    left: 50px;\n    z-index: 999;\n}\n\n#help p.heading {\n    margin: 10px;\n    text-align: center;\n    font-size: 20px;\n}\n\n#help p.body {\n    margin: 10px;\n    white-space: pre-wrap;\n}\n\n#background {\n    position: relative;\n    height: 200px;\n    background: url(./image/twenty-one-bg.gif);\n    background-repeat: no-repeat;\n    background-size: 400px 200px;\n}\n\n#play-buttons,\n#restart-button {\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    text-align: center;\n}\n\nbutton {\n    width: 100px;\n    font-size: 20px;\n    background-color: blue;\n    color: white;\n    padding: 14px 20px;\n    margin: 8px;\n    box-shadow: 2px 2px silver;\n    cursor: inherit;\n}\n\n#restart-button button {\n    width: 216px;\n}\n\n#card-table {\n    height: 160px;\n    background: green;\n}\n\n#dealer-cards {\n    height: 78px;\n    border-top: 1px solid grey;\n    padding-top: 1px;\n}\n\n#player-cards {\n    height: 79px;\n    border-top: 1px solid grey;\n    padding-top: 1px;\n}\n\nplaying-card {\n    display: inline-block;\n    margin: 2px;\n}\n\n#user-interaction {\n    position: relative;\n    height: 70px;\n    background: silver;\n}\n\n#status-div {\n    width: 240px;\n    margin-left: 10px;\n    line-height: 25px;\n    float: left;\n}\n\n#status::before {\n    content: \'» \';\n    font-size: 20px;\n    color: green;\n    animation: blink 1s linear infinite;\n}\n\n#score-div {\n    width: 150px;\n    line-height: 25px;\n    float: right;\n}\n\n#score-div>span {\n    display: block;\n}\n\n#result {\n    width: 100%;\n    line-height: 20px;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    background: black;\n    color: white;\n    text-align: center;\n}\n\n.hidden {\n    display: none\n}\n\n@keyframes blink {\n    0% {\n        color: transparent;\n    }\n\n    100% {\n        color: green;\n    }\n}\n</style>\n<div id="help" class="hidden">\n  <p class="heading"></p>\n  <p class="body"></p>\n</div>\n<div id="background">\n<div id="play-buttons">\n    <button id="button-draw">Draw!</button><button id="button-stay">Stay...</button>\n  </div>\n  <div id="restart-button" class="hidden">\n    <button id="button-restart">Play Again!</button>\n  </div>\n</div>\n<div id="card-table">\n  <div id="dealer-cards"></div>\n  <div id="player-cards"></div>\n</div>\n<div id="user-interaction">\n  <div id="status-div">\n    <span id="status"></span>\n  </div>\n  <div id="score-div">\n    <span >Player Score: <span id="player-score"></span></span>\n    <span>Dealer Score: <span id="dealer-score"></span></span>\n  </div>\n  <div id="result"></div>\n</div> \n';window.customElements.define("twenty-one",class extends window.HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(S.content.cloneNode(!0)),this.$=(e=>this.shadowRoot.querySelector(e)),this.table=this.$("#card-table"),this.dealerThreshold=15,this.name="Twenty One",this.settings={dealerThreshold:{name:"Dealer Style",setting:{cautious:{name:"Coward",threshold:10},normal:{name:"Mr Average",threshold:15},aggressive:{name:"Mr Aggressive",threshold:17},nightmare:{name:"Max Testosterone!",threshold:20}},run:e=>{this.setAttribute("threshold",e.threshold)}},help:{name:"Help",setting:this._showHelp.bind(this,k.a)},restart:{name:"Restart Game",setting:this.newRound.bind(this)}}}static get observedAttributes(){return["threshold"]}attributeChangedCallback(e,t,n){this.dealerThreshold=parseInt(n),this.newRound()}connectedCallback(){this.game=new f(this.dealerThreshold),this._boundClick=this._click.bind(this),this.$("#play-buttons").addEventListener("click",this._boundClick),this._promptPlayer(),this.$("#button-draw").focus()}disconnectedCallback(){this.$("#play-buttons").removeEventListener("click",this._boundClick),this.$("#player-cards").innerHTML=null,this.$("#dealer-cards").innerHTML=null,this.$("#result").textContent=null,this.$("#player-score").textContent=null,this.$("#dealer-score").textContent=null,this.$("#restart-button").classList.add("hidden"),this.$("#play-buttons").classList.remove("hidden"),this.game.result=null,this.game.player.score=null,this.game.dealer.score=null,this.game=null}_click(e){"button-draw"===e.target.id&&(this.game.drawCard(this.game.player),this._renderPlayerCard(this.game.player.hand)),"button-stay"===e.target.id&&(this.game.dealerPlay(),this._renderDealerHand(this.game.dealer.hand),this._renderResult()),this._renderScore(),this._promptPlayer(this.game.newRound)}_promptPlayer(e){let t;e||this.game.player.score>=21?(this._renderResult(),t="Play again?"):t="Draw or Stay?",this.$("#status").textContent=t}_renderScore(){this.$("#player-score").textContent=this.game.player.score||"",this.$("#dealer-score").textContent=this.game.dealer.score||""}_renderCard(e){let t=document.createElement("playing-card");return t.setAttribute("suit",e.suit),t.setAttribute("rank",e.rank),t}_renderPlayerCard(e){let t=e.slice(-1)[0],n=this._renderCard(t);this.$("#player-cards").appendChild(n)}_renderDealerHand(e){e.forEach(e=>{let t=this._renderCard(e);this.$("#dealer-cards").appendChild(t)})}_renderResult(){this.$("#result").textContent=this.game.result||"",this.$("#play-buttons").classList.add("hidden"),this.$("#restart-button").classList.remove("hidden"),this.$("#button-restart").focus(),this.$("#restart-button").addEventListener("click",()=>this.newRound(),{once:!0})}newRound(){this.disconnectedCallback(),this.connectedCallback()}async _showHelp(e){let t=await window.fetch(e),n=await t.text(),i=n.slice(n.indexOf("#")+1,n.indexOf("\n")),s=n.slice(n.indexOf("\n")+2);this.$("#help p.heading").textContent=i,this.$("#help p.body").textContent=s,this.$("#help").classList.remove("hidden"),this.addEventListener("click",()=>this.$("#help").classList.add("hidden"),{once:!0})}});let C=new class{constructor(){this.container=d.content.cloneNode(!0).querySelector("div.desktop"),this.applications=[{name:"PC Games Memory",element:"pc-games-memory",image:"image/memory-icon.png"},{name:"Twenty One",element:"twenty-one",image:"image/twenty-one-icon.png"}],this.activeWindow=null,this.activeIcon=null,this.moveElement=null,this.mousePosition=0,this.newWindowPosition={x:10,y:10},this.createIcons(this.applications);let e=this._keyDown.bind(this);window.addEventListener("keydown",e),window.addEventListener("mousedown",e=>this._blurWindow()),window.addEventListener("openapp",e=>{this.createWindow(e.detail.content,e.detail.icon,this.newWindowPosition.x,this.newWindowPosition.y)})}createIcons(e){let t=20;e.forEach(e=>{let n=new c(e.image,e.element,e.name,t,120);t+=100,this.container.querySelector("#icons").appendChild(n.container),n.container.addEventListener("mousedown",e=>{this.activeWindow&&this.activeWindow.container.classList.remove("active"),this.activeIcon&&this.activeIcon.container.classList.remove("active"),this.activeIcon=n,n.container.classList.add("active"),this.moveElement=n,this._moveElement(e),e.stopPropagation()})})}createWindow(e,t,n,i){let s=new r(e,t,n,i);this.container.appendChild(s.container),this.activeWindow=s,this.activeWindow.container.classList.add("active"),s.container.addEventListener("close",e=>{this.container.removeChild(e.target),this.keyboardMenu=!1,this.newWindowPosition.x=10,this.newWindowPosition.y=10},{once:!0}),s.container.addEventListener("mousedown",e=>{this.activeWindow!==s&&this._blurWindow(),this.activeWindow=s,this.moveElement=s,this.activeWindow.container.classList.add("active"),e.target.classList.contains("navbar")&&this._moveElement(e),e.stopPropagation()}),this.newWindowPosition.y>window.innerHeight-200?(this.newWindowPosition.x-=50,this.newWindowPosition.y=10):(this.newWindowPosition.x+=10,this.newWindowPosition.y+=10)}_keyDown(e){this.activeWindow&&(e.altKey&&("KeyF"!==e.code&&"KeyS"!==e.code||(this.activeWindow.menu.keyboardMenu=!0,this.activeWindow.container.querySelector("div.menu ul").classList.add("menu-active")),"KeyQ"===e.code&&(this.container.removeChild(this.activeWindow.container),this.keyboardMenu=!1)),this.activeWindow.menu.keyboardMenu&&this.activeWindow.menu.useKeys(e))}_blurWindow(){this.activeWindow&&(this.activeWindow.container.classList.remove("active"),this.activeWindow.container.querySelector("div.menu ul").classList.remove("menu-active"),this.activeWindow.container.querySelector(".navbar-menu").classList.remove("display-menu"),this.activeWindow.menu.closeAll(),this.activeWindow.menu.keyboardMenu=!1,this.activeWindow=null)}_moveElement(e){e.preventDefault(),this.mousePosition={x:e.offsetX,y:e.offsetY},this.startMove={x:e.clientX-this.mousePosition.x,y:e.clientY-this.mousePosition.y};let t=this._mouseMove.bind(this);window.addEventListener("mousemove",t),window.addEventListener("mouseup",e=>{window.removeEventListener("mousemove",t),(e.clientY<=0||e.clientY>window.innerHeight)&&(this.moveElement.container.style.transform=`translate3d(${this.startMove.x}px, ${this.startMove.y}px, 0px)`),this.moveElement===this.activeWindow&&(this.newWindowPosition.x=10,this.newWindowPosition.y=10)},{once:!0})}_mouseMove(e){let t=e.clientX-this.mousePosition.x,n=e.clientY-this.mousePosition.y;this.moveElement.container.style.transform=`translate3d(${t}px, ${n}px, 0px)`}};document.body.querySelector("main").appendChild(C.container),"serviceWorker"in navigator&&navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("Registration succeeded. Scope is "+e.scope)}).catch(e=>{console.log("Registration failed with "+e)})}]);